МІНІСТЕРСТВО ОСВІТИ І НАУКИ УКРАЇНИ
ХАРКІВСЬКИЙ НАЦІОНАЛЬНИЙ УНІВЕРСИТЕТ РАДІОЕЛЕКТРОНІКИ
 
 
КАФЕДРА ПРОГРАМНОЇ ІНЖЕНЕРІЇ
 


 
 
Звіт
з лабораторної роботи № 4 
з дисципліни Аналіз та рефакторинг коду
  
 
 


 
Виконала:                                                                     Перевірив:
ст. гр. ПЗПІ-23-5                                                          ​​​​ст. викладач кафедри ПІ
Буткевич Анна                                                             Сокорчук Ігор Петрович
 
 
 Харків 2025
1 ІСТОРІЯ ЗМІН


№
	Дата
	Версія звіту
	Опис змін та виправлень
	1
	23.12.2025
	0.1
	Створено розділ «Завдання»
	2
	23.12.2025
	0.1
	Створено розділ «Опис Виконаної роботи»
	



2 ЗАВДАННЯ
1. Розробити будову програмного забезпечення ІоТ клієнта.
2. Створити UML діаграму прецедентів для ІоТ клієнта.
3. Розробити бізнес логіку (математичну обробку повʼязаних із предметною областю даних) та функції налаштування ІоТ клієнта.
4. Створити діаграму діяльності для ІоТ клієнта.
5. Створити програмну реалізацію бізнес логіки та функцій налаштування ІоТ клієнта.
6. Перевірити роботу ІоТ клієнта.








3 ОПИС ВИКОНАНОЇ РОБОТИ
3.1 Короткий огляд реалізації


У межах лабораторної роботи розроблено простий, але функціонально завершений ІоТ-клієнт, реалізований мовою Python та розміщений у каталозі iot_client_python.
Основним компонентом є файл device_simulator.py, який імітує роботу фізичного пристрою, періодично генерує вимірювання, забезпечує їх попередню обробку, буферизацію у разі недоступності мережі та надсилання на сервер за допомогою HTTP-запитів.
Додатково реалізовано конфігураційні та допоміжні файли:
* requirements.txt — перелік залежностей;
* .env — конфігурація клієнта;
* buffer.json — файл локального буфер;
* README.md — інструкція з запуску та використання клієнта.


3.2 Архітектура програмного забезпечення ІоТ-клієнта
Архітектура ІоТ-клієнта є модульною та складається з наступних логічних компонентів:
* Sensor Emulator — компонент, що генерує вимірювання з часовою міткою;
* Normalizer — виконує приведення одиниць вимірювання до узгодженого формату;
* Network Client (Sender) — здійснює HTTP-взаємодію із сервером із використанням заголовка Device-Token;
* Persistent Buffer — локальне збереження вимірів у файлі buffer.json при помилках передачі;
* Retry / Backoff Logic — механізм повторних спроб надсилання із наростаючою затримкою;
* Diagnostics (заготовка) — базовий механізм збору діагностичних даних;
* Configuration Layer — параметризація клієнта через змінні середовища.


Конфігурація ІоТ-клієнта здійснюється за допомогою файлу .env, де задаються адреса API, токен пристрою, інтервал вимірювань, параметри повторних спроб та шлях до буфера. 


3.3 UML діаграма прецедентів ІоТ-клієнта


Для опису функціональних можливостей ІоТ-клієнта розроблено UML діаграму прецедентів, яка відображає основні сценарії його роботи.
Основні прецеденти:
* Measure — періодичне зняття показників;
* Normalize — нормалізація одиниць вимірювання;
* Send Data — надсилання вимірів на сервер;
* Store Buffer — збереження даних локально при помилці мережі;
* Retry / Backoff — повторна передача з урахуванням затримок;
* Flush Buffer — спроба надсилання накопичених даних;
* Self-Diagnostics — перевірка базового стану клієнта.


Діаграма демонструє, що всі ключові дії виконуються автоматично без участі користувача, а клієнт працює у фоновому режимі (Рисунок Б.1).


3.4 Бізнес-логіка та математична обробка даних на клієнті


Бізнес-логіка ІоТ-клієнта реалізована у спрощеному вигляді та орієнтована на забезпечення надійної доставки даних, а не на складні аналітичні обчислення.
На клієнтській стороні реалізовано:
* генерацію значень у заданому діапазоні;
* нормалізацію одиниць вимірювання;
* буферизацію вимірів при неможливості передачі;
* перевірку коректності сформованих даних.


Більш складні математичні алгоритми (EWMA, кумулятивна доза, детекція піків, прогнозування) концептуально враховані, але перенесені на серверну частину, що відповідає принципу централізованої обробки та спрощує ІоТ-клієнта.
Таким чином, клієнт виконує лише базову попередню обробку та забезпечує стабільну передачу даних.


3.5 UML діаграма діяльності ІоТ-клієнта


UML діаграма діяльності відображає цикл роботи ІоТ-клієнта. Процес починається з генерації нового вимірювання, після чого клієнт намагається спочатку передати накопичені у буфері дані.
У разі успішної передачі дані видаляються з локального сховища. Якщо сервер недоступний або виникає помилка мережі, вимір зберігається у файлі буфера. Після цього клієнт переходить у режим очікування до наступного циклу.
Діаграма ілюструє безперервну роботу клієнта та його здатність коректно працювати в умовах нестабільного з’єднання (Рисунок Б.2).


3.6 Програмна реалізація


Програмна реалізація ІоТ-клієнта виконана у файлі device_simulator.py. У ньому реалізовано:
* генерацію вимірів із часовою міткою;
* зчитування та збереження буфера у форматі JSON;
* HTTP-взаємодію із сервером;
* логіку повторних спроб із затримкою;
* основний цикл роботи клієнта.


Для запуску клієнта підготовлено окрему документацію (README.md), що описує послідовність налаштування середовища та запуску програми.


3.7 Перевірка роботи ІоТ-клієнта
        
Перевірка роботи ІоТ-клієнта виконувалась у тестовому середовищі з використанням серверної частини системи.
Було виконано такі сценарії:
* успішна передача вимірів при доступному сервері;
* накопичення вимірів у буфері при недоступності сервера;
* автоматичне надсилання накопичених даних після відновлення з’єднання.


Результати перевірки підтвердили коректність реалізованої логіки та стабільність роботи клієнта.
4 ВИСНОВКИ
        У результаті виконання лабораторної роботи №4 розроблено архітектуру та програмну реалізацію ІоТ-клієнта, здатного імітувати роботу вимірювального пристрою та взаємодіяти із серверною частиною системи.
ІоТ-клієнт забезпечує:
* генерацію та попередню обробку вимірів;
* надійну передачу даних із використанням буферизації;
* роботу в умовах нестабільного мережевого з’єднання;
* гнучке налаштування через конфігураційні параметри.


Реалізація клієнта доповнює серверну частину системи та дозволяє продемонструвати повний цикл роботи ІоТ-рішення — від формування даних до їх збереження та аналізу. У подальшому систему можна розширити шляхом додавання розширеної самодіагностики, захищеного зберігання даних та механізмів оновлення програмного забезпечення клієнта.




ДОДАТОК А
Відеозапис
Відеозапис презентації результатів лабораторної роботи: 
https://youtu.be/w0c80OeMb_M


Хронологічний опис відеозапису:
00:06 - Архітектура IoT клієнта 
00:46 - UML-діаграми IoT клієнт
03:38 - Бізнес-логіка IoT клієнта в коді
04:43 - Функції IoT клієнта
07:20 - Тестування
 
ДОДАТОК Б
  

Рисунок Б.1 -  UML діаграма прецедентів ІоТ-клієнта
  

Рисунок Б.2 - UML діаграма діяльності «Цикл роботи ІоТ-клієнта»
  

Рисунок Б.3 - UML діаграма діяльності «Відправка даних на сервер»
  

Рисунок Б.4 - UML діаграма взаємодії «Надсилання показників ІоТ-клієнтом»
  

Рисунок Б.5 - UML діаграма взаємодії «Буферизація при недоступності сервера»
  

Рисунок Б.6 - UML діаграма діяльності «Самодіагностика ІоТ-клієнта»
ДОДАТОК В
Посилання на код: 
https://github.com/NureButkevychAnna/ark-pzpi-23-5-butkevych-anna/tree/main/Lab4/ark-pzpi-23-5-butkevych-anna-lab4/RadiationMonitoring