МІНІСТЕРСТВО ОСВІТИ І НАУКИ УКРАЇНИ
ХАРКІВСЬКИЙ НАЦІОНАЛЬНИЙ УНІВЕРСИТЕТ РАДІОЕЛЕКТРОНІКИ
 
 
КАФЕДРА ПРОГРАМНОЇ ІНЖЕНЕРІЇ
 


 
 
Звіт
з лабораторної роботи № 5 
з дисципліни Аналіз та рефакторинг коду
  
 
 


 
Виконала:                                                                     Перевірив:
ст. гр. ПЗПІ-23-5                                                          ​​​​ст. викладач кафедри ПІ
Буткевич Анна                                                             Сокорчук Ігор Петрович
 
 
 Харків 2025
ІСТОРІЯ ЗМІН


№
	Дата
	Версія звіту
	Опис змін та виправлень
	1
	26.12.2025
	0.1
	Створено розділ «Завдання»
	2
	26.12.2025
	0.1
	Створено розділ «Опис Виконаної роботи»
	



2 ЗАВДАННЯ
1. Розгорнути реалізовану програмну систему.
2. Перевірити та налаштувати роботу розгорнутої програмної системи.
3. Продемонструвати описану у розділі 2.2 Vision & Scope функціональність програмної системи.








3 ОПИС ВИКОНАНОЇ РОБОТИ
У процесі виконання лабораторної роботи було здійснено розгортання програмної системи моніторингу радіації у контейнеризованому середовищі, налаштовано механізми керування даними, а також виконано перевірку працездатності системи за допомогою інструментів тестування API.
Розгортання системи виконувалося з використанням технології Docker Compose, що дозволяє об’єднати окремі компоненти програмної системи в єдиний керований стек. Конфігурація контейнерів описана у файлі docker-compose.yml, у якому визначено сервіси серверної частини застосунку та бази даних PostgreSQL, а також правила мережевої взаємодії між ними. Для передачі конфігураційних параметрів було підготовлено файл .env, який містить змінні середовища, зокрема PORT, DATABASE_URL, JWT_SECRET та API_URL. Ці змінні використовуються у файлі server.js, який є точкою входу серверної частини застосунку.
Після підготовки конфігурації виконано збірку та запуск контейнерів за допомогою команди docker compose up -d --build. Даний етап забезпечив створення актуальних Docker-образів і запуск усіх необхідних сервісів у фоновому режимі. Для перевірки коректності запуску використовувалися команди docker compose ps та docker logs, що дозволило впевнитися у стабільній роботі серверу та відсутності помилок під час старту.
Наступним кроком було застосування схеми бази даних. Структура таблиць, індексів та зв’язків між ними визначена у SQL-файлі sql/create_tables.sql. Для виконання цього файлу безпосередньо у контейнері серверної частини було використано Node.js-скрипт, який через Sequelize (конфігурація у файлі models/index.js) встановлює з’єднання з PostgreSQL та виконує SQL-запити. Такий підхід дозволив централізовано керувати схемою бази даних та уникнути залежності від локального середовища розробника.
Після розгортання системи було перевірено доступність серверної частини та коректність генерації документації API. Swagger-інтерфейс доступний за адресою /api-docs і формується на основі описів, розміщених безпосередньо у файлах маршрутів, зокрема routes/auth.js, routes/readings.js, routes/devices.js та routes/admin.js. Загальні компоненти та схеми Swagger описані у файлі docs/swaggerComponents.js. Наявність коректної відповіді сервера при зверненні до /api-docs підтвердила успішне розгортання та працездатність API.
Окрему увагу було приділено реалізації механізмів експорту та імпорту даних. Для цього у проєкті створено скрипти scripts/export_data.js та scripts/import_data.js, які дозволяють зберігати вміст бази даних у файлову систему та відновлювати його за потреби. Експорт даних здійснюється у каталог з датованою назвою, що спрощує створення резервних копій та їх подальше використання. Процес експорту може виконуватися як із хост-системи через npm-скрипти, так і безпосередньо всередині Docker-контейнера, після чого створені файли копіюються з контейнера у локальне середовище.
Імпорт даних підтримує два режими роботи: повну заміну існуючих даних або додавання нових записів до наявних. Це дозволяє використовувати механізм імпорту як для повного відновлення системи, так і для завантаження демонстраційних або тестових даних. Коректність виконання операцій імпорту та експорту перевірялася шляхом прямого підключення до бази даних PostgreSQL у контейнері та виконання SQL-запитів підрахунку кількості записів у ключових таблицях, таких як sensor_readings та alerts.
Для додаткової перевірки роботи системи було використано інструмент Postman. У проєкті наявна колекція запитів postman_collection.json, яка містить приклади викликів основних API-ендпойнтів. За допомогою Postman було виконано тестування реєстрації користувача, автентифікації, створення пристрою та надсилання показів від імені пристрою. Під час тестування перевірялася коректність HTTP-відповідей, обробка помилок та відповідність відповідей серверу задокументованому контракту API. Використання Postman дозволило наочно продемонструвати працездатність розгорнутої системи без необхідності написання додаткового клієнтського коду.
Таким чином, у ході виконання лабораторної роботи було реалізовано повноцінне розгортання програмної системи, налаштовано та перевірено механізми керування даними, а також проведено тестування API за допомогою спеціалізованих інструментів, що підтверджує готовність системи до подальшої експлуатації та демонстрації функціональності.
Для наочного представлення архітектури та процесів взаємодії компонентів програмної системи було побудовано набір UML-діаграм, які відображають як статичну структуру системи, так і динаміку обміну даними між її складовими.
На Рисунку Б.1 подано діаграму компонентів, яка ілюструє загальну архітектуру системи моніторингу радіації. На діаграмі відображено основні підсистеми, зокрема IoT-клієнт, серверну частину на базі Node.js та Express, базу даних PostgreSQL, а також допоміжні скрипти імпорту та експорту даних. Діаграма демонструє логічні зв’язки між компонентами, включно з передачею вимірювань від IoT-пристрою до серверу, взаємодією бекенда з базою даних та використанням сервісів бізнес-логіки для обробки даних і формування алертів. Дана схема дозволяє узагальнено оцінити структуру системи та розподіл відповідальності між її складовими.
На Рисунку Б.2 зображено діаграму послідовності надсилання показів від IoT-пристрою. Вона відображає повний цикл обробки вимірювання: від ініціювання HTTP-запиту симулятором пристрою до збереження даних у базі даних і перевірки порогових значень. Діаграма наочно демонструє використання механізму автентифікації пристрою за допомогою Device-Token, а також виклик сервісу обробки алертів після збереження показів. Такий підхід дозволяє простежити динаміку взаємодії компонентів у режимі реального часу.
На Рисунку Б.3 наведено діаграму послідовності отримання даних користувачем, яка відображає сценарій взаємодії клієнта з API для перегляду вимірювань. Діаграма демонструє процес перевірки JWT-токена, авторизацію користувача та виконання запиту до бази даних з урахуванням прав доступу до пристроїв. Даний сценарій підтверджує коректну реалізацію механізмів автентифікації та контролю доступу в системі.
На Рисунку Б.4 представлено діаграму послідовності виконання адміністративних обчислень, яка описує роботу адміністративних API-ендпойнтів. На діаграмі показано, як запит адміністратора проходить перевірку ролі, після чого викликаються методи сервісу обчислень для формування агрегованих або похідних даних. Результати обчислень зберігаються у базі даних, що забезпечує подальший аналіз та аудит виконаних операцій.
На Рисунку Б.5 наведено діаграму розгортання, яка відображає фізичну модель розміщення компонентів у контейнеризованому середовищі. Діаграма демонструє використання Docker Engine на хост-машині, у межах якого функціонують окремі контейнери серверної частини застосунку, бази даних PostgreSQL та, за потреби, IoT-симулятора. Взаємодія між контейнерами здійснюється через внутрішню мережу Docker, що забезпечує ізоляцію середовища виконання та спрощує процес розгортання системи.
Таким чином, побудовані UML-діаграми комплексно відображають архітектуру програмної системи, логіку обміну даними між компонентами та особливості її розгортання. Їх використання дозволяє краще зрозуміти внутрішню організацію системи та підтверджує відповідність реалізованого рішення вимогам, визначеним у розділі Vision & Scope.
4 ВИСНОВКИ
У результаті виконання лабораторної роботи було успішно розгорнуто та налаштовано програмну систему моніторингу радіації. Усі основні компоненти системи - серверна частина, база даних та IoT-клієнт - працюють узгоджено та відповідають поставленим вимогам.
Проведене тестування підтвердило стабільне приймання показів від пристроїв, коректну роботу механізмів автентифікації, генерацію алертів при перевищенні встановлених порогів та підтримку багатомовного інтерфейсу повідомлень. Реалізована буферизація даних на стороні IoT-клієнта підвищує надійність системи в умовах нестабільного мережевого з’єднання.
Використання Docker Compose спростило процес розгортання та зробило систему зручною для масштабування і перенесення між середовищами. Swagger-документація значно полегшує тестування та інтеграцію API.
Таким чином, поставлені у лабораторній роботі завдання виконано повністю, а реалізована система є стабільною, функціонально завершеною та готовою до подальшого розвитку і впровадження.


ДОДАТОК А
Відеозапис
Відеозапис презентації результатів лабораторної роботи: 
https://youtu.be/JRxQ5jMsV1I


Хронологічний опис відеозапису:
00:00 - Вітання та мета лабораторної роботи
00:13 - Пояснення діаграм
02:43 - Розбір розгортання
05:03 - Реалізація експорт/імпорт в коді
08:18 - Демонстрація розгортання реалізованої програмної системи
09:48 - Тестування у Postman
13:07 - Демонстрація роботи експорту
13:35 - Результати
 
ДОДАТОК Б
  

Рисунок Б.1 - Component Diagram. Загальна архітектура та взаємодія компонентів
  

Рисунок Б.2 -  Sequence Diagram. Сценарій 1: Надсилання показів від IoT-пристрою
  

Рисунок Б.3 -  Сценарій 2: Отримання показів користувачем (JWT)
  

Рисунок Б.4 -  Сценарій 3: Адмін-обчислення
  

Рисунок Б.5 -  Deployment Diagram. Docker - середовище виконання




ДОДАТОК В
Посилання на код: 
https://github.com/NureButkevychAnna/ark-pzpi-23-5-butkevych-anna/tree/main/Lab5/ark-pzpi-23-5-butkevych-anna-lab5/RadiationMonitoring